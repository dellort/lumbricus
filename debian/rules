#!/usr/bin/make -f

package = lumbricus

#DFLAGS = -gc -O

clean:
	dh_testdir
	dh_testroot
	rm -f build
	rm -f bin/lumbricus bin/extractdata

install: build
	dh_testdir
	dh_testroot
	dh_prep
	dh_install --exclude=.svn

build:
	dh_testdir
	# actual game
	cd src && ./minibuild.py lumbricus.d
	# data files converter
	cd src && ./minibuild.py extractdata.d
	touch build

binary-indep: install
# There are no architecture-independent files to be uploaded
# generated by this package.  If there were any they would be
# made here.

binary-arch: install
	dh_installdocs
	dh_installchangelogs
	dh_strip
	dh_compress
	dh_fixperms
	dh_installdeb
	dh_shlibdeps
	dh_gencontrol
	dh_md5sums
	dh_builddeb

binary: binary-indep binary-arch
.PHONY: build clean binary-indep binary-arch binary install
