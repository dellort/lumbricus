resources {
    animations {
        antimatter_nuke {
            duration = "20"
            width = "18"
            height = "18"
            frames = "36"
            image = "antimatter_nuke.png"
            repeat = "true"
            backwards = "false"
        }
        blackhole_active {
            duration = "50"
            width = "200"
            height = "200"
            frames = "36"
            image = "blackhole_alpha.png"
            repeat = "true"
            backwards = "false"
        }
    }
    bitmaps {
        icon_blackhole = "icons/icon_blackhole.png"
    }
}

//xxx: sequence stuff is in wwp.conf

weapons {
    blackhole_bomb {
        type = "action"
        value = "10"
        category = "misc1"
        icon = "icon_blackhole"
        firemode {
            mode = "throw"
            direction = "any"
            strength_mode = "variable"
            strength_from = "20"
            strength_to = "1000"
            timer = "true"
            timerrange = "1 5"
            relaxtime = "1"
        }
        onfire {
            type = "spawn"
            spawndist = "2"
            projectile = "antimatter_nuke"
            count = "1"
        }
        animation {
            arm = "weapon_holy"
        }
        projectiles {
            antimatter_nuke {
                type = "projectile_mc"
                physics {
                    collide = "projectile"
                    mass = "10"
                    radius = "2"
                    explosion_influence = "0"
                    wind_influence = "0.0"
                    elasticity = "0.4"
                }
                detonate {
                    ontimer = "true"
                    lifetime = "$LIFETIME$"
                }
                actions {
                    ondetonate {
                        type = "spawn"
                        count = "1"
                        projectile = "blackhole"
                        initial_velocity = "fixed" //stop in mid-air
                    }
                }
                sequence_object = "s_antimatter_nuke"
            }
            blackhole {
                type = "projectile_mc"
                physics {
                    collide = "projectile"
                    mass = "10"
                    fixate = "0 0"
                    radius = "2"
                    explosion_influence = "0"
                    wind_influence = "0.0"
                }
                detonate {
                    ontimer = "true"
                    lifetime = "1.3"
                }
                actions {
                    oncreate {
                        type = "gravitycenter"
                        //lifetime = "2"
                        radius = "300"
                        gravity = "5000"
                    }
                    ondetonate {
                        type = "explosion"
                        damage = "60"
                    }
                }
                sequence_object = "s_blackhole_active"
            }
        }
    }
}
