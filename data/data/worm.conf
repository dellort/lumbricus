name = "worm"
type = "worm_mc"

//initial state (at least useful for automatic object placement)
initstate = "sit"

//special for worm.d
jet_thrust = "4000 10000"

suicide_damage = "30"
jump_strength = "1500 -2100"

//select animations for gravestones
gravestones {
    g0 = "grave0"
    g1 = "grave1"
    g2 = "grave2"
    g3 = "grave3"
    g4 = "grave4"
    g5 = "grave5"
}

//collision map additions for the worms
collisions {
    //"worm": first type for PhysicWorld.setCollide()
    worm {
        //second type + action (cookie value for setCollide())
        ground = "hit"
        //collides with other worms
        worm = "hit"
    }
    jetworm {
        ground = "hit"
    }
    grave {
        ground = "hit"
    }
    //underwater -> no collisions
    waterobj {
    }
}

//physical states, used by the "states" section
physics {
    worm {
        //collision class the worm physical object is set to
        collide = "worm"
        radius = "5"
        mass = "10"
        glue_force = "400"
        walking_speed = "50"
        elasticity = "0.5"
        damageable = "1.0"
        sustainable_force = "350"
        fall_damage_factor = "0.06"
    }
    beaming {
        collide = "worm"
        radius = "5"
        mass = "10"
        glue_force = "400"
        //don't move
        fixate = "0 0"
        //invulnerable while beaming
        damageable = "0.0"
    }
    jetworm {
        collide = "jetworm"
        radius = "5"
        mass = "10"
        glue_force = "190"
        elasticity = "0.5"
        velocity_constraint = "200 200"
    }
    grave {
        collide = "grave"
        radius = "5"
        fixate = "0 1"
        elasticity = "0.3"
        glue_force = "100"
    }
    water {
        collide = "waterobj"
        radius = "1"
        damageable = "0.0"
        explosion_influence = "0.0"
        glue_force = "0"
        medium_viscosity = "5.0"
    }
    win {
        damageable = "0.0"
        fixate = "0 0"
    }
}

//all the object states
//state selects collision class, physics and animations of an object
//state transition for worms is mostly done by special code...
states {
    sit {
        //load these physic properties
        physic = "worm"
        animation = "worm_stand"
    }
    beaming {
        physic = "beaming"
        animation = "worm_beaming"
        noleave = "true"
        on_animation_end = "reverse_beaming"
    }
    reverse_beaming {
        physic = "beaming"
        animation = "worm_beaming_backwards"
        noleave = "true"
        on_animation_end = "fly"
    }
    fly {
        physic = "worm"
        animation = "worm_heavy_fly"
    }
    walk {
        physic = "worm"
        animation = "worm_walk"
    }
    weapon {
        physic = "worm"
        //animation is weapon specific; special code in worm.d
    }
    jetpack {
        physic = "jetworm"

        animation = "worm_jet"
    }
    drowning {
        physic = "water"

        animation = "worm_drown"
    }
    win {
        physic = "win"
        animation = "worm_win"
        noleave = "true"
    }
    die {
        physic = "grave"

        //byebye-animation
        on_animation_end = "dead"
        animation = "worm_die"
        noleave = "true"
    }
    dead {
        physic = "grave"
        //not allowed to leave state
        noleave = "true"

        //animation is selected by gravestone
        //see worm.d
    }
}

//since r318 no state transitions anymore