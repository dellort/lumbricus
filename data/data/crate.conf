name = "crate"
type = "crate_mc"

initstate = "creation"

sequence_object = "s_crate1"

//speed when the crate goes into state parachute
enter_parachute_speed = "100"

//radius in which stuff is collected
collect_radius = "30"

initial_hp = "2"

collisions {
    //crate_collect is hardcoded in crate.d for the collection-trigger, hm
    define = "crate_collect"
    hit {
        crate_collect = "player"
    }
}

physics {
    creation {
        radius = "10"
        fixate = "0 0"
        collide = "levelobject"
        damageable = "1.0"
    }
    normal {
        radius = "10"
        mass = "10"
        glue_force = "400"
        collide = "levelobject"
        damageable = "1.0"
    }
    parachute {
        radius = "10"
        medium_viscosity = "1"
        mass = "10"
        glue_force = "1000"
        wind_influence = "0 1"
        fixate = "0 1"
        collide = "levelobject"
        damageable = "1.0"
    }
    drowning {
        collide = "waterobj"
        radius = "1"
        damageable = "0.0"
        explosion_influence = "0.0"
        glue_force = "0"
        damageable = "0.0"
    }
}

states {
    creation {
        animation = "beam"
        //goes from sit->fall if it falls too fast
        on_animation_end = "normal"
    }
    normal {
        animation = "normal"
    }
    parachute {
        animation = "fly"
    }
    drowning {
        animation = "drown"
    }
}

detonate {
    onzerolife = "true"
}

actions {
    ondetonate {
        {
            type = "explosion"
            damage = "50"
        }
        {
            type = "spawn"
            count = "40"
            projectile = "molotov_napalm"
            random = "60"
            initial_velocity = "fixed"
            strength_value = "0"
        }
    }
}