require_resources = "wormanim"

//xxx where to put that???
collisions {
    napalm {
        worm = "hit"
        napalm = "hit"
        ground = "hit"
    }
    projectile {
        worm = "hit"
        ground = "hit"
    }
    projectile_noworm {
        ground = "hit"
    }
}

weapons {
    banana {
        //the weapon class
        type = "projectile_mc" //ProjectileWeapon
        //cost of this weapon in worms-dollar
        value = "10"
        firemode {
            mode = "throw" //throw a projectile
            direction = "any" //360 degrees
            strength_mode = "variable" //as we know it from bananas
            strength_value = "600" //unit unknown
            //setable timer, just passed to projectile
            timer = "true"
            timerrange = "1 5"
            //xxx unused: next time this weapon can be fired
            relaxtime = "1"
        }
        //what happens when you fire the weapon
        //specific to ProjectileWeapon
        //same as "spawn" node in projectiles.death
        onfire {
            spawndist = "2"
            projectile = "mainbanana"
            //number of projectiles
            count = "1"
            //time after which a new projectile is spawned
            //delay = "..."
        }
        animation {
            //select animation for weapon-actions
            //for now, the arm-animation is used for arming, holding and unarming
            //xxx: animations sadly fixed to worms
            arm = "worm_banana"
            //also will be needed for some stuff:
            //firing = "..."
        }
        projectiles {
            mainbanana {
                //select sprite class
                //the rest of this confignode is mainly handled by the sprite
                //(either the sprite class or any supertype of it)
                type = "projectile_mc"
                physics {
                    collide = "projectile"
                    mass = "10"
                    radius = "2"
                    explosion_influence = "0"
                    wind_influence = "0.0"
                    elasticity = "0.4"
                }
                //how projectile can die
                //NOTE: can also be forced to die; i.e. fall into the water
                death_howcome {
                    diebytime = "true"
                    lifetime = "$LIFETIME$"
                }
                death {
                    spawn {
                        count = "5"
                        delay = "0" //all the same time
                        projectile = "bananashard"
                        random = "60"
                        keep_velocity = "false"  //not relative to parent projectile
                        strength_value = "400" //spawn with speed in default (up) direction
                    }
                    explosion {
                        damage = "75"
                    }
                }
                animation = "banana_fly"
            }
            bananashard {
                type = "projectile_mc"
                physics {
                    collide = "projectile"
                    mass = "5"
                    radius = "2"
                    explosion_influence = "0.0"
                    wind_influence = "0.0"
                }
                death_howcome {
                    diebyimpact = "true"
                }
                death {
                    explosion {
                        damage = "75"
                    }
                }
                animation = "banana_fly"
            }
        } //projectiles
    } //banana
/*
    indian_atomtest {
        type = "specialw_mc"
        value = "5"
        firemode {
            mode = "static"
        }
        animation {
            arm = "worm_getairstrike"
            fire = "worm_useairstrike"
        }
    }
*/
    esel {
        type = "projectile_mc"
        value = "10000"
        airstrike = "true"
        animation {
            arm = "worm_getairstrike"
            fire = "worm_useairstrike"
        }
        firemode {
            canpoint = "true"
        }
        onfire {
            count = "1"
            projectile = "esel"
            airstrike = "true"
        }
        projectiles {
            esel {
                type = "projectile_mc"
                physics {
                    collide = "projectile_noworm"
                    mass = "200"
                    radius = "70"
                    wind_influence = "0"
                    explosion_influence = "0"
                    fixate = "0 1"
                    elasticity = "0.6"
                }
                explosion_on_impact = "100"
                animation = "esel"
            }
        }
    }
    blackhole_bomb {
        type = "projectile_mc"
        value = "10"
        firemode {
            mode = "throw"
            direction = "any"
            strength_mode = "variable"
            strength_value = "600"
            timer = "true"
            timerrange = "1 5"
            relaxtime = "1"
        }
        onfire {
            spawndist = "2"
            projectile = "antimatter_nuke"
            count = "1"
        }
        animation {
            arm = "worm_holy"
        }
        projectiles {
            antimatter_nuke {
                type = "projectile_mc"
                physics {
                    collide = "projectile"
                    mass = "10"
                    radius = "2"
                    explosion_influence = "0"
                    wind_influence = "0.0"
                    elasticity = "0.4"
                }
                death_howcome {
                    diebytime = "true"
                    lifetime = "$LIFETIME$"
                }
                death {
                    spawn {
                        count = "1"
                        delay = "0" //all the same time
                        projectile = "blackhole"
                        keep_velocity = "false" //stop in mid-air
                    }
                }
                animation = "holy_fly"
            }
            blackhole {
                type = "projectile_mc"
                physics {
                    collide = "projectile"
                    mass = "10"
                    fixate = "0 0"
                    radius = "2"
                    explosion_influence = "0"
                    wind_influence = "0.0"
                }
                effects {
                    {
                        name = "gravitycenter"
                        //lifetime = "2"
                        radius = "300"
                        gravity = "5000"
                    }
                }
                death_howcome {
                    diebytime = "true"
                    lifetime = "1.3"
                }
                death {
                    explosion {
                        damage = "60"
                    }
                }
                animation = "blackhole_fly"
            }
        }
    }
    bazooka {
        type = "projectile_mc"
        value = "10"
        firemode {
            mode = "throw"
            direction = "any"
            strength_mode = "variable"
            strength_value = "600"
            timer = "false"
            relaxtime = "1"
        }
        onfire {
            spawndist = "2"
            projectile = "bazooka"
            count = "1"
        }
        animation {
            arm = "worm_bazooka"
        }
        projectiles {
            bazooka {
                type = "projectile_mc"
                physics {
                    collide = "projectile"
                    mass = "10"
                    radius = "2"
                    explosion_influence = "0"
                    wind_influence = "1.0"
                    elasticity = "0.4"
                }
                death_howcome {
                    diebyimpact = "true"
                }
                death {
                    explosion {
                        damage = "50"
                    }
                }
                animation = "bazooka_fly"
            }
        }
    }
    grenade {
        type = "projectile_mc"
        value = "10"
        firemode {
            mode = "throw"
            direction = "any"
            strength_mode = "variable"
            strength_value = "600"
            timer = "true"
            timerrange = "1 5"
            relaxtime = "1"
        }
        onfire {
            spawndist = "2"
            projectile = "grenade"
            count = "1"
        }
        animation {
            arm = "worm_grenade"
        }
        projectiles {
            grenade {
                type = "projectile_mc"
                physics {
                    collide = "projectile"
                    mass = "10"
                    radius = "2"
                    explosion_influence = "0"
                    wind_influence = "0.0"
                    elasticity = "0.4"
                }
                death_howcome {
                    diebytime = "true"
                    lifetime = "$LIFETIME$"
                }
                death {
                    explosion {
                        damage = "50"
                    }
                }
                animation = "grenade_fly"
            }
        }
    }
    clusterbomb {
        type = "projectile_mc"
        value = "10"
        firemode {
            mode = "throw"
            direction = "any"
            strength_mode = "variable"
            strength_value = "600"
            timer = "true"
            timerrange = "1 5"
            relaxtime = "1"
        }
        onfire {
            spawndist = "2"
            projectile = "maincluster"
            count = "1"
        }
        animation {
            arm = "worm_cluster"
        }
        projectiles {
            maincluster {
                type = "projectile_mc"
                physics {
                    collide = "projectile"
                    mass = "10"
                    radius = "2"
                    explosion_influence = "0"
                    wind_influence = "0.0"
                    elasticity = "0.4"
                }
                death_howcome {
                    diebytime = "true"
                    lifetime = "$LIFETIME$"
                }
                death {
                    spawn {
                        count = "5"
                        delay = "0" //all the same time
                        projectile = "cluster"
                        random = "60"
                        keep_velocity = "false"
                        strength_value = "400"
                    }
                    explosion {
                        damage = "25"
                    }
                }
                animation = "cluster_fly"
            }
            cluster {
                type = "projectile_mc"
                physics {
                    collide = "projectile"
                    mass = "10"
                    radius = "2"
                    explosion_influence = "0.0"
                    wind_influence = "0.0"
                    elasticity = "0.4"
                }
                death_howcome {
                    diebyimpact = "true"
                }
                death {
                    explosion {
                        damage = "25"
                    }
                }
                animation = "clustershard"
            }
        }
    }
    mortar {
        type = "projectile_mc"
        value = "10"
        firemode {
            mode = "throw"
            direction = "any"
            strength_mode = "fixed"
            strength_value = "1000"
            timer = "false"
            relaxtime = "1"
        }
        onfire {
            spawndist = "2"
            projectile = "mortar"
            count = "1"
        }
        animation {
            arm = "worm_mortar"
        }
        projectiles {
            mortar {
                type = "projectile_mc"
                physics {
                    collide = "projectile"
                    mass = "10"
                    radius = "2"
                    explosion_influence = "0"
                    wind_influence = "0.0"
                    elasticity = "0.4"
                }
                death_howcome {
                    diebyimpact = "true"
                }
                death {
                    spawn {
                        count = "5"
                        delay = "0" //all the same time
                        projectile = "mortarcluster"
                        random = "60"
                        keep_velocity = "false"
                        strength_value = "400"
                    }
                    explosion {
                        damage = "25"
                    }
                }
                animation = "mortar_fly"
            }
            mortarcluster {
                type = "projectile_mc"
                physics {
                    collide = "projectile"
                    mass = "10"
                    radius = "2"
                    explosion_influence = "0.0"
                    wind_influence = "0.0"
                    elasticity = "0.4"
                }
                death_howcome {
                    diebyimpact = "true"
                }
                death {
                    explosion {
                        damage = "25"
                    }
                }
                animation = "clustershard"
            }
        }
    }
    homing {
        type = "projectile_mc"
        value = "10"
        firemode {
            canpoint = "true"
            mode = "throw"
            direction = "any"
            strength_mode = "variable"
            strength_value = "600"
            timer = "false"
            relaxtime = "1"
        }
        onfire {
            spawndist = "2"
            projectile = "homing_inactive"
            count = "1"
        }
        animation {
            arm = "worm_homing"
        }
        projectiles {
            homing_inactive {
                type = "projectile_mc"
                physics {
                    collide = "projectile"
                    mass = "10"
                    radius = "2"
                    explosion_influence = "0"
                    wind_influence = "0.0"
                    elasticity = "0.4"
                }
                death_howcome {
                    diebyimpact = "true"
                    diebytime = "true"
                    lifetime = "0.6"
                }
                death {
                    spawn {
                        require_reason = "timeout"
                        count = "1"
                        delay = "0"
                        projectile = "homing_active"
                        random = "0"
                    }
                }
                explosion_on_impact = "50"
                animation = "homing_inactive_fly"
            }
            homing_active {
                type = "projectile_mc"
                physics {
                    collide = "projectile"
                    mass = "10"
                    radius = "2"
                    explosion_influence = "0"
                    wind_influence = "0.0"
                    elasticity = "0.4"
                }
                effects {
                    {
                        name = "homing"
                        delay = "0.0"
                        max_velocity = "700"
                        force = "3000"
                    }
                }
                death_howcome {
                    diebyimpact = "true"
                    diebytime = "true"
                    lifetime = "10.0"
                }
                death {
                    spawn {
                        require_reason = "timeout"
                        count = "1"
                        delay = "0"
                        projectile = "homing_inactive2"
                        random = "0"
                    }
                }
                explosion_on_impact = "50"
                animation = "homing_active_fly"
            }
            homing_inactive2 {
                type = "projectile_mc"
                physics {
                    collide = "projectile"
                    mass = "10"
                    radius = "2"
                    explosion_influence = "0"
                    wind_influence = "0.0"
                    elasticity = "0.4"
                }
                death_howcome {
                    diebyimpact = "true"
                }
                death {
                    explosion {
                        damage = "50"
                    }
                }
                animation = "homing_inactive_fly"
            }
        }
    }
    molotov {
        type = "projectile_mc"
        value = "10"
        firemode {
            mode = "throw"
            direction = "any"
            strength_mode = "variable"
            strength_value = "600"
            timer = "false"
            relaxtime = "1"
        }
        onfire {
            spawndist = "2"
            projectile = "molotov"
            count = "1"
        }
        animation {
            arm = "worm_molotov"
        }
        projectiles {
            molotov {
                type = "projectile_mc"
                physics {
                    collide = "projectile"
                    mass = "10"
                    radius = "2"
                    explosion_influence = "0"
                    wind_influence = "0.0"
                    elasticity = "0.4"
                }
                death_howcome {
                    diebyimpact = "true"
                }
                death {
                    spawn {
                        count = "40"
                        delay = "0" //all the same time
                        projectile = "molotov_napalm"
                        random = "60"
                        keep_velocity = "false"
                        strength_value = "0"
                    }
                    explosion {
                        damage = "20"
                    }
                }
                animation = "molotov_fly"
            }
            molotov_napalm {
                type = "projectile_mc"
                physics {
                    collide = "napalm"
                    mass = "10"
                    radius = "5"
                    explosion_influence = "1.0"
                    wind_influence = "1.0"
                    elasticity = "0.0"
                }
                death_howcome {
                    diebytime = "true"
                    lifetime = "30.0"
                }
                death {
                }
                animation = "napalm_yellow_big"
            }
        }
    }
} //list of weapons
