weapons {
    armageddon {
        type = "action"
        value = "10000"
        category = "misc3"
        icon = "icon_meteorstrike"
        airstrike = "true"
        firemode {
            mode = "throw"
            direction = "fixed"
            strength_mode = "fixed"
            strength_from = "0"
            timer = "false"
            relaxtime = "1 s"
        }
        onfire {
            type = "spawn"
            spawndist = "2"
            projectile = "armageddon_spawner"
            count = "1"
        }
        onblowup {
            type = "spawn"
            spawndist = "2"
            projectile = "meteor"
            count = "8"
            random = "60"
            initial_velocity = "fixed"
            strength_value = "450-750"
        }
        animation = "weapon_atomtest"
        projectiles {
            //this is a dummy sprite without animation that spawns the meteors
            //xxx we just need this to detach spawning from the triggering worm,
            //  or else the action would stop if the worm was hit
            armageddon_spawner {
                type = "projectile_mc"
                physics {
                    collide = "never"
                    mass = "10"
                    radius = "1"
                    explosion_influence = "0"
                    wind_influence = "0.0"
                    zero_gravity = "true"
                }
                detonate {
                    ontimer = "true"
                    lifetime = "15 s"
                }
                actions {
                    oncreate {
                        repeat_delay = "100ms-200ms"
                        repeat = "999999"
                        {
                            type = "spawn"
                            airstrike = "true"
                            initial_velocity = "random_air"
                            count = "1"
                            projectile = "meteor"
                            strength_value = "800-1000" 
                        }
                    }
                }
                //invisible dummy sprite, no sequence_object
            }
            meteor {
                type = "projectile_mc"
                physics {
                    collide = "projectile"
                    mass = "10"
                    radius = "15"
                    explosion_influence = "0"
                    wind_influence = "0.0"
                    elasticity = "0.4"
                }
                detonate {
                    onimpact = "true"
                }
                actions {
                    ondetonate {
                        type = "explosion"
                        damage = "40-75"
                    }
                }
                sequence_object = "s_meteor"
            }
        }
    }
}
