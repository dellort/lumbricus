weapons {
    homing {
        type = "action"
        value = "10"
        category = "fly"
        icon = "icon_homing"
        firemode {
            point = "target_tracking"
            mode = "throw"
            direction = "any"
            strength_mode = "variable"
            strength_from = "200"
            strength_to = "1200"
            timer = "false"
            relaxtime = "1 s"
        }
        onfire {
            type = "spawn"
            spawndist = "2"
            projectile = "homing"
            count = "1"
        }
        onblowup {
            type = "spawn"
            spawndist = "2"
            projectile = "homing"
            initstate = "inactive2"
            count = "1"
            random = "60"
            initial_velocity = "fixed"
            strength_value = "400-500"
        }
        animation = "weapon_homing"
        projectiles {
            homing {
                type = "projectile_mc"
                stateful = "true"
                initstate = "inactive"
                physics {
                    inactive {
                        collide = "projectile"
                        mass = "10"
                        radius = "2"
                        explosion_influence = "0"
                        wind_influence = "0.0"
                        elasticity = "0.4"
                    }
                    active {
                        collide = "projectile_nobounce"
                        mass = "10"
                        radius = "2"
                        explosion_influence = "0"
                        elasticity = "0.4"
                        speed_limit = "700"
                        zero_gravity = "true"
                    }
                    //flying underwater
                    active_water {
                        collide = "waterobj"
                        mass = "10"
                        radius = "2"
                        explosion_influence = "0"
                        elasticity = "0.4"
                        speed_limit = "700"
                        zero_gravity = "true"
                        stokes_modifier = "0.0"
                    }
                    drowning {
                        collide = "waterobj"
                        radius = "1"
                        damageable = "0.0"
                        explosion_influence = "0.0"
                        glue_force = "0"
                    }
                }
                detonate {
                    onimpact = "true"
                }
                states {
                    inactive {
                        actions {
                            oncreate {
                                type = "timer"
                                delay = "600 ms"
                            }
                            ontimer {
                                type = "state"
                                state = "active"
                            }
                        }
                        animation = "inactive"
                    }
                    active {
                        drownstate = ""
                        deathzone_immune = "true"
                        physic_water = "active_water"
                        actions {
                            oncreate {
                                exec = "parallel"
                                {
                                    type = "timer"
                                    delay = "5 s"
                                }
                                {
                                    type = "homing"
                                    //accelerate
                                    force_a = "15000"
                                    //turn
                                    force_t = "15000"
                                }
                            }
                            ontimer {
                                type = "state"
                                state = "inactive2"
                            }
                        }
                        animation = "active"
                        animation_water = "active_underwater"
                        particle = "p_rocket"
                    }
                    inactive2 {
                        physic = "inactive"
                        animation = "inactive"
                    }
                    drowning {
                        disable_events = "true"
                        animation = "drown"
                        particle = "p_projectiledrown"
                    }
                }
                actions {
                    ondetonate {
                        type = "explosion"
                        damage = "50"
                    }
                }
                sequence_object = "s_homing"
            }
        }
    }
}
