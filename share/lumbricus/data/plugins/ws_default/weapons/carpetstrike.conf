weapons {
    carpetstrike {
        type = "action"
        value = "10000"
        category = "air"
        airstrike = "true"
        icon = "icon_carpetstrike"
        animation = "weapon_airstrike"
        on_select = "airstrike_selector"
        firemode {
            point = "instant"
            strength_value = "300"
        }
        onfire {
            type = "spawn"
            count = "6"
            spawndist = "45"
            projectile = "carpetstrike"
            airstrike = "true"
        }
        onblowup {
            type = "spawn"
            count = "3"
            spawndist = "2"
            projectile = "carpetstrike"
            random = "45"
            initial_velocity = "fixed"
            strength_value = "300-450"
        }
        projectiles {
            //xxx lol, I want a scripting language :(
            carpetstrike {
                type = "projectile_mc"
                physics {
                    collide = "projectile"
                    mass = "10"
                    radius = "9"
                    explosion_influence = "0"
                    wind_influence = "0"
                    rotation = "distance"
                }
                detonate {
                    onimpact = "true"
                }
                actions {
                    ondetonate {
                        {
                            type = "explosion"
                            damage = "40"
                        }
                        {
                            type = "spawn"
                            projectile = "carpetstrike2"
                            random = "90"
                            initial_velocity = "fixed"
                            strength_value = "300-500"
                            spawndist = "0"
                        }
                    }
                }
                sequence_object = "s_carpetstrike"
            }
            carpetstrike2 {
                type = "projectile_mc"
                physics {
                    collide = "projectile"
                    mass = "10"
                    radius = "9"
                    explosion_influence = "0"
                    wind_influence = "0"
                    rotation = "distance"
                }
                detonate {
                    onimpact = "true"
                }
                actions {
                    ondetonate {
                        {
                            type = "explosion"
                            damage = "40"
                        }
                        {
                            type = "spawn"
                            projectile = "carpetstrike3"
                            random = "90"
                            initial_velocity = "fixed"
                            strength_value = "300-500"
                            spawndist = "0"
                        }
                    }
                }
                sequence_object = "s_carpetstrike"
            }
            carpetstrike3 {
                type = "projectile_mc"
                physics {
                    collide = "projectile"
                    mass = "10"
                    radius = "9"
                    explosion_influence = "0"
                    wind_influence = "0"
                    rotation = "distance"
                }
                detonate {
                    onimpact = "true"
                }
                actions {
                    ondetonate {
                        {
                            type = "explosion"
                            damage = "40"
                        }
                    }
                }
                sequence_object = "s_carpetstrike"
            }
        }
    }
}
